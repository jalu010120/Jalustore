<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Skykid Jalustore</title>
<style>
  /* Reset & base */
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0; padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    min-height: 100vh;
    display: flex; flex-direction: column;
  }
  nav {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 56px;
    background: rgba(20,20,35,0.85);
    backdrop-filter: blur(10px);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 1rem;
    z-index: 999;
  }
  nav span {
    font-weight: 700;
    font-size: 1.25rem;
    letter-spacing: 1.2px;
  }
  nav a {
    color: #c3c3ff;
    margin-left: 1.2rem;
    text-decoration: none;
    font-weight: 600;
    cursor: pointer;
    transition: color 0.25s;
  }
  nav a:hover {
    color: #fff;
  }

  main {
    margin-top: 56px;
    padding: 1rem;
    max-width: 480px;
    margin-left: auto;
    margin-right: auto;
    flex-grow: 1;
  }

  .product-card {
    background: rgba(255 255 255 / 0.1);
    border-radius: 16px;
    padding: 1rem;
    margin-bottom: 1.2rem;
    text-align: center;
    box-shadow: 0 4px 15px rgb(0 0 0 / 0.3);
    transition: transform 0.3s ease;
  }
  .product-card:hover {
    transform: translateY(-6px);
  }
  .product-card img {
    max-width: 120px;
    margin-bottom: 0.7rem;
  }
  .product-card h3 {
    margin: 0 0 0.5rem;
    font-weight: 700;
    font-size: 1.1rem;
  }
  .product-card p {
    margin: 0 0 0.8rem;
    font-weight: 600;
    font-size: 1rem;
  }
  button {
    cursor: pointer;
    border: none;
    border-radius: 12px;
    padding: 0.55rem 1rem;
    font-weight: 700;
    font-size: 1rem;
    transition: background-color 0.3s;
  }
  .btn-gold {
    background-color: #f8d33b;
    color: #222;
  }
  .btn-gold:hover {
    background-color: #d4b02f;
  }
  .btn-pink {
    background-color: #ff79c6;
    color: #222;
  }
  .btn-pink:hover {
    background-color: #d85fa7;
  }

  #cartButton {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: #82cfff;
    border: none;
    font-size: 28px;
    box-shadow: 0 6px 14px rgb(0 0 0 / 0.35);
    cursor: pointer;
    transition: background-color 0.3s;
    z-index: 1000;
  }
  #cartButton:hover {
    background-color: #5eb4e6;
  }

  #cartContainer {
    position: fixed;
    bottom: 4.75rem;
    right: 1rem;
    max-width: 320px;
    width: 90vw;
    background: rgba(20, 20, 35, 0.9);
    backdrop-filter: blur(12px);
    border-radius: 16px;
    padding: 1rem;
    color: white;
    display: none;
    flex-direction: column;
    box-shadow: 0 4px 20px rgb(0 0 0 / 0.5);
    z-index: 1001;
  }
  #cartContainer h3 {
    margin: 0 0 0.7rem 0;
    font-weight: 700;
    font-size: 1.2rem;
    text-align: center;
  }
  #cartContainer ul {
    list-style: none;
    padding: 0;
    margin: 0 0 1rem 0;
    max-height: 180px;
    overflow-y: auto;
  }
  #cartContainer li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.3rem 0;
    border-bottom: 1px solid rgba(255 255 255 / 0.15);
    font-weight: 600;
  }
  #cartContainer li span.remove {
    color: #ff4c4c;
    cursor: pointer;
    font-weight: 800;
    font-size: 1.2rem;
  }
  #cartTotal {
    font-weight: 700;
    text-align: right;
    margin-bottom: 1rem;
    font-size: 1.1rem;
  }
  #cartCheckoutBtn {
    background-color: #82cfff;
    color: #222;
    border: none;
    border-radius: 12px;
    padding: 0.7rem;
    font-weight: 700;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background-color 0.3s;
    width: 100%;
  }
  #cartCheckoutBtn:hover {
    background-color: #5eb4e6;
  }

  /* Modal */
  #checkoutModal {
    position: fixed;
    inset: 0;
    background: rgba(10, 10, 25, 0.9);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1100;
    padding: 1rem;
  }
  #checkoutModal .modal-content {
    background: #222;
    border-radius: 16px;
    max-width: 380px;
    width: 100%;
    padding: 1.3rem 1.5rem;
    color: white;
    box-shadow: 0 6px 22px rgb(0 0 0 / 0.7);
  }
  #checkoutModal h2 {
    margin-top: 0;
    margin-bottom: 1rem;
    font-weight: 700;
    text-align: center;
    font-size: 1.4rem;
  }
  #checkoutModal label {
    font-weight: 600;
    display: block;
    margin-bottom: 0.3rem;
  }
  #checkoutModal input {
    width: 100%;
    padding: 0.5rem 0.7rem;
    margin-bottom: 1rem;
    border-radius: 10px;
    border: none;
    font-size: 1rem;
  }
  #checkoutModal button {
    width: 100%;
    padding: 0.65rem 0;
    border-radius: 14px;
    border: none;
    font-weight: 700;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  #checkoutModal .btn-pay {
    background-color: #82cfff;
    color: #222;
  }
  #checkoutModal .btn-pay:hover {
    background-color: #5eb4e6;
  }
  #checkoutModal .btn-cancel {
    background-color: #555;
    color: #eee;
    margin-top: 0.7rem;
  }
  #checkoutModal .btn-cancel:hover {
    background-color: #444;
  }

  /* Responsive */
  @media (max-width: 500px) {
    #cartContainer {
      max-width: 95vw;
      right: 2.5vw;
      bottom: 4.5rem;
    }
    main {
      padding: 0.5rem;
      max-width: 100vw;
    }
  }
</style>
</head>
<body>

<nav>
  <span>Skykid Jalustore</span>
  <div>
    <a href="#products" onclick="scrollToSection('products')">Produk</a>
    <a href="#" onclick="toggleCart()">Keranjang</a>
  </div>
</nav>

<main>
  <section id="products">
    <div class="product-card">
      <img src="https://cdn.pixabay.com/photo/2021/03/01/14/12/heart-6061959_960_720.png" alt="80+20 Heart" />
      <h3>80+20 Heart</h3>
      <p>Rp10.000</p>
      <button class="btn-gold" onclick="addToCart('80+20 Heart', 10000)">Tambah ke Keranjang</button>
    </div>

    <div class="product-card">
      <img src="https://cdn.pixabay.com/photo/2021/03/01/14/12/heart-6061959_960_720.png" alt="300+40 Heart" />
      <h3>300+40 Heart</h3>
      <p>Rp32.000</p>
      <button class="btn-pink" onclick="addToCart('300+40 Heart', 32000)">Tambah ke Keranjang</button>
    </div>

    <!-- Tambah produk lain sesuai kebutuhan disini -->
  </section>
</main>

<button id="cartButton" aria-label="Buka Keranjang" title="Buka Keranjang" onclick="toggleCart()">🛒</button>

<div id="cartContainer" aria-live="polite" role="region" aria-label="Keranjang Belanja">
  <h3>Keranjang</h3>
  <ul id="cartList"></ul>
  <p><strong>Total: </strong><span id="cartTotal">Rp0</span></p>
  <button id="cartCheckoutBtn" onclick="showCheckoutModal()">Checkout</button>
</div>

<div id="checkoutModal" role="dialog" aria-modal="true" aria-labelledby="checkoutTitle">
  <div class="modal-content">
    <h2 id="checkoutTitle">Checkout</h2>
    <label for="buyerName">Nama:</label>
    <input type="text" id="buyerName" placeholder="Nama lengkap" aria-required="true" />
    <label for="buyerEmail">Email:</label>
    <input type="email" id="buyerEmail" placeholder="Email aktif" aria-required="true" />
    <label for="friendCode">Kode Teman (opsional):</label>
    <input type="text" id="friendCode" placeholder="Kode teman jika ada" />
    <p><strong>Total Produk:</strong> <span id="checkoutTotal">Rp0</span></p>
    <button class="btn-pay" onclick="submitCheckout()">Bayar</button>
    <button class="btn-cancel" onclick="closeCheckout()">Batal</button>
  </div>
</div>

<script>
  let cart = [];

  function scrollToSection(id) {
    document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
  }

  function addToCart(name, price) {
    cart.push({ name, price });
    updateCart();
  }

  function updateCart() {
    const list = document.getElementById('cartList');
    const totalElem = document.getElementById('cartTotal');
    list.innerHTML = '';
    let total = 0;
    cart.forEach((item, index) => {
      total += item.price;
      const li = document.createElement('li');
      li.textContent = `${item.name} - Rp${item.price.toLocaleString()}`;
      const removeBtn = document.createElement('span');
      removeBtn.textContent = '❌';
      removeBtn.className = 'remove';
      removeBtn.setAttribute('role', 'button');
      removeBtn.setAttribute('tabindex', '0');
      removeBtn.setAttribute('aria-label', `Hapus ${item.name} dari keranjang`);
      removeBtn.onclick = () => {
        cart.splice(index, 1);
        updateCart();
      };
      removeBtn.onkeypress = (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          cart.splice(index, 1);
          updateCart();
        }
      };
      li.appendChild(removeBtn);
      list.appendChild(li);
    });
    totalElem.textContent = 'Rp' + total.toLocaleString();
    document.getElementById('cartContainer').style.display = cart.length ? 'flex' : 'none';
    document.getElementById('checkoutTotal').textContent = cart.length ? total.toLocaleString('id-ID', { style: 'currency', currency: 'IDR' }) : 'Rp0';
  }

  function toggleCart() {
    const cartBox = document.getElementById('cartContainer');
    if(cart.length === 0){
      alert('Keranjang kosong!');
      return;
    }
    cartBox.style.display = cartBox.style.display === 'flex' ? 'none' : 'flex';
  }

  function showCheckoutModal() {
    if (cart.length === 0) {
      alert('Keranjang kosong!');
      return;
    }
    document.getElementById('checkoutModal').style.display = 'flex';
  }

  function closeCheckout() {
    document.getElementById('checkoutModal').style.display = 'none';
  }

  function submitCheckout() {
    const name = document.getElementById('buyerName').value.trim();
    const email = document.getElementById('buyerEmail').value.trim();
    const friendCode = document.getElementById('friendCode').value.trim();
    const total = cart.reduce((sum, item) => sum + item.price, 0);
    const produk = cart.map(item => item.name).join(', ');

    if (!name || !email) {
      alert('Mohon isi nama dan email dengan benar!');
      return;
    }

    const waNumber = '085189014747'; // Nomor WhatsApp kamu, pakai kode negara kalau perlu (contoh: 6285189014747)
    const message = encodeURIComponent(
      `Halo Admin, saya mau pesan:%0A` +
      `Nama: ${name}%0AEmail: ${email}%0AProduk: ${produk}%0ATotal: Rp${total.toLocaleString()}%0AKode Teman: ${friendCode || '-'}`
    );

    window.open(`https://wa.me/${waNumber}?text=${message}`, '_blank');
    closeCheckout();
    cart = [];
    updateCart();
  }
</script>

</body>
</html>
